<div id="cars-container">
  <div id="cars-filter-sidebar" *ngIf="enumFilters">
    <app-checkboxlist *ngFor="let i of enumFilters" [enumFilter]="i" (filterChanged)="filterChanged()"></app-checkboxlist>
    <div id="record-count-info">
      <em>ierakstu skaits: {{carsDataSource.filteredData.length}}/{{carsDataSource.data.length}}</em>
    </div>
  </div>
  <div id="cars_table">
    <table mat-table [dataSource]="carsDataSource" matSort matSortActive="name" matSortDirection="asc">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
        <td mat-cell *matCellDef="let car"> {{car.name}} </td>
      </ng-container>
      <ng-container matColumnDef="performanceScore" justify="end">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Performance</th>
        <td mat-cell class="car-performance-score" *matCellDef="let car">{{car.performanceScore | number : '1.0-0'}}</td>
      </ng-container>
      <ng-container matColumnDef="environmentScore" justify="end">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Environment</th>
        <td mat-cell class="car-environment-score" *matCellDef="let car">{{car.environmentScore | number : '1.0-0'}}</td>
      </ng-container>
      <ng-container matColumnDef="capacityScore" justify="end">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Capacity</th>
        <td mat-cell class="car-capacity-score" *matCellDef="let car">{{car.capacityScore | number : '1.0-0'}}</td>
      </ng-container>
      <ng-container matColumnDef="overallScore" justify="end">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Overall</th>
        <td mat-cell *matCellDef="let car">{{car.overallScore | number : '1.0-0'}}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="showCarDetes(row.id)" [hidden]="isLoading"></tr>
    </table>
    <div id="load_progress" *ngIf="isLoading">
      <div class="spinner-container">
          <mat-progress-spinner [mode]="loadingMode" [value]="progressValue"></mat-progress-spinner>
          <div id="progress-value" *ngIf="loadingMode == 'determinate'">
            <div id="progress-value-text">{{progressValue}} %</div>
          </div>
      </div>
    </div>
  </div>
  <div id="cars-score-sidebar">
    <div class="criteria-input">
      <mat-label>Performance</mat-label>
      <mat-slider id="performance_input" [(ngModel)]="performance" [disabled]="isLoading" thumbLabel step="1" min="0" max="100"></mat-slider>
    </div>

    <div class="criteria-input">
      <mat-label>Environment</mat-label>
      <mat-slider id="environment_input" [(ngModel)]="environment" [disabled]="isLoading" thumbLabel step="1" min="0" max="100"></mat-slider>
    </div>

    <div class="criteria-input">
      <mat-label>Capacity</mat-label>
      <mat-slider id="capacity_input" [(ngModel)]="capacity" [disabled]="isLoading" thumbLabel step="1" min="0" max="100"></mat-slider>
    </div>

    <button [disabled]="isLoading" id="generate-button" mat-raised-button (click)="generateClick()" type="button" name="button" color="primary">Calculate</button>
  </div>
</div>
